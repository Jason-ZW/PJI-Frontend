<view style="display:flex;flex-direction:column;height:100%;">
    <!-- nav -->
    <view class="cu-custom" style="height:{{CustomBar}}px;">
        <view class="cu-bar fixed bg-gradual-green" style="height:{{CustomBar}}px;padding-top:{{StatusBar}}px;">
            <navigator class='action border-custom' open-type="navigateBack" delta="1" hover-class="none" style='width:{{Custom.width}}px;height:{{Custom.height}}px;margin-left:calc(750rpx - {{Custom.right}}px)'>
                <text class='icon-back'></text>
                <text class='icon-homefill'></text>
            </navigator>
            <view class='content' style='top:{{StatusBar}}px;'>患者总览</view>
        </view>
    </view>
    <!-- title -->
    <view class="title-container bg-white solid-bottom solid-top">
        <view>
            张三
        </view>
        <view>
            y12343123
        </view>
        <view>
            左
        </view>
        <view>
            膝
        </view>
    </view>
    <!-- button -->
    <view class="btn-container solid-bottom bg-white">
        <button class='cu-btn bg-red shadow' bindtap="onPuncture">
            <i class="fa fa-plus" style="margin-right:5rpx"></i>穿刺
        </button>
        <button class='cu-btn bg-red shadow' bindtap="onAddCase">
            <i class="fa fa-stethoscope" style="margin-right:5rpx"></i>手术
        </button>
        <button class='cu-btn bg-red shadow' bindtap="onAddCase">
            <i class="fa fa-hospital-o" style="margin-right:5rpx"></i>随访
        </button>
    </view>
    <!-- tab -->
    <scroll-view scroll-x class="bg-white nav">
        <view class="flex text-center">
            <view class="cu-item flex-sub {{index==currTab?'text-blue cur':''}}" wx:for="{{tabList}}" wx:key bindtap="tabSelect" data-id="{{index}}">
                {{item}}
            </view>
        </view>
    </scroll-view>
    <!-- 列表 -->
    <scroll-view scroll-y class="indexes margin-bottom" scroll-into-view="indexes-{{listCurID}}" style='height:calc(100vh - {{CustomBar}}px - 250rpx)' scroll-with-animation="true" enable-back-to-top="true">
        <view class="cu-timeline" style="padding-left:30rpx;">
            <view class="cu-time">2019-05-01</view>
            <view class="cu-item">
                <view class="timeline-item-container bg-white shadow-blur">
                    <i class="fa fa-clock-o" style="font-size:50rpx;" />
                    <view style="margin-left:45rpx">
                        <view style="display:flex;flex-direction:row;align-items:center;">
                            <view class="text-black text-bold" style="font-size:40rpx;">诊断穿刺 </view>
                            <!-- <view class="cu-tag round bg-yellow text-white" style="margin-left:20rpx;">标</view> -->
                        </view>
                        <view style="display:flex;flex-direction:row;margin-top:20rpx;">
                            <view>录入:季大鹏</view>
                            <view style="margin-left:40rpx;">审核:季大鹏</view>
                        </view>
                    </view>
                </view>
            </view>
            <view class="cu-time">2019-05-01</view>
            <view class="cu-item text-red">
                <view class="timeline-item-container bg-white shadow-blur">
                    <i class="fa fa-clock-o" style="font-size:50rpx;" />
                    <view style="margin-left:45rpx">
                        <view style="display:flex;flex-direction:row;align-items:center;">
                            <view class="text-black text-bold" style="font-size:40rpx;">诊断穿刺 </view>
                            <view class="cu-tag round bg-yellow text-white" style="margin-left:20rpx;">标</view>
                        </view>
                        <view style="display:flex;flex-direction:row;margin-top:20rpx;">
                            <view>录入:季大鹏</view>
                            <view style="margin-left:40rpx;">审核:季大鹏</view>
                        </view>
                    </view>
                </view>
            </view>
            <view class="cu-time">2019-05-01</view>
            <view class="cu-item text-red">
                <view class="timeline-item-container bg-white shadow-blur">
                    <i class="fa fa-clock-o" style="font-size:50rpx;visibility:hidden" />
                    <view style="margin-left:45rpx">
                        <view style="display:flex;flex-direction:row;align-items:center;">
                            <view class="text-black text-bold" style="font-size:40rpx;">诊断穿刺 </view>
                            <view class="cu-tag round bg-yellow text-white" style="margin-left:20rpx;">标</view>
                        </view>
                        <view style="display:flex;flex-direction:row;margin-top:20rpx;">
                            <view>录入:季大鹏</view>
                            <view style="margin-left:40rpx;">审核:季大鹏</view>
                        </view>
                    </view>
                </view>
            </view>
        </view>
    </scroll-view>
</view>

<!-- 弹出框 -->
<view class='load-progress {{loadProgress!=0?"show":"hide"}}' style="top:{{CustomBar}}px;">
    <view class='load-progress-bar bg-green' style="transform: translate3d(-{{100-loadProgress}}%, 0px, 0px);"></view>
    <view class='load-progress-spinner text-green'></view>
</view>
<view class='cu-load load-modal' wx:if="{{loadModal}}">
    <view class='gray-text'>处理中...</view>
</view>
<view class="load-curtain" wx:if="{{loadProgress!=0}}"></view>
<!-- dialog -->
<view class="cu-modal {{modalName=='ErrModal'?'show':''}}">
    <view class="cu-dialog">
        <view class="cu-bar bg-white justify-end">
            <view class='content'>无法操作</view>
            <view class='action' bindtap='hideModal'>
                <text class='icon-close text-red'></text>
            </view>
        </view>
        <view class='padding-xl'>
            <view class='flex-sub text-center'>
                <view class='solid-bottom text-sl padding'>
                    <text class='icon-warnfill text-red'></text>
                </view>
                <view class='padding'>{{errMsg}}</view>
            </view>
        </view>
    </view>
</view>